import 'dotenv/config' // 1. è‡ªå‹•è®€å– .env æª”æ¡ˆä¸­çš„è¨­å®š
import mongoose from 'mongoose'
import Product from './models/product.js' // âš ï¸ è«‹ç¢ºèªä½ çš„ Model æª”åæ˜¯ product.js

// 2. ç›´æ¥å¾ process.env æŠ“å–é€£ç·šè³‡è¨Š
const mongoURI = process.env.DB_URL

const products = [
  // --- 7-11 ç³»åˆ— ---
  {
    name: '7-11 é¦™ç”œæˆç†Ÿçš„è‰è“å†°æ£’',
    price: 192,
    description:
      'é€™æ˜¯ä¾†è‡ªäººæ°£ã€Œä¸¸æ‰‹ã€ç³»åˆ—çš„ç”œç¾æˆç†Ÿçš„è‰è“å‘³å†°æ£’ï¼Œå…¶å£æ„Ÿå’Œæœé¦™è®“äººæ„Ÿè¦ºå°±åƒåœ¨åƒå†·å‡æ°´æœ',
    store: '7-11',
    category: 'å†°å“',
    sell: true,
    image: '711_daifuku_nc9kby',
  },
  {
    name: '7-11 ç ‚ç³–å¥¶æ²¹æ¨¹ç™½å·§å…‹åŠ›å¤¾å¿ƒè„†é¤…',
    price: 246,
    description:
      'é¦™é…¥çš„é¤…ä¹¾ä»¥é»‘éº¥ã€ç‡•éº¥ã€è£¸éº¥ç­‰ä¸ƒç¨®ä¸åŒç©€ç‰©è£½ä½œè€Œæˆï¼Œå†å¡—ä¸Šå¥¶æ²¹èˆ‡ç ‚ç³–æ›´å¢æ·»å£æ„Ÿå±¤æ¬¡ï¼Œå†åŠ å…¥æ¿ƒé†‡å¥¶é¦™çš„ç™½å·§å…‹åŠ›ï¼Œå…¥å£æ„Ÿå—é¦™æ°£æ’²é¼»çš„éº¥é¦™èˆ‡å·§å…‹åŠ›çš„é¦™ç”œæ»‹å‘³ï¼Œç”œè€Œä¸è†©å£ï¼Œå¤šå±¤æ¬¡çš„ç¨ç‰¹å£æ„Ÿï¼Œè¶Šåš¼è¶Šé¦™!',
    store: '7-11',
    category: 'é›¶é£Ÿ',
    sell: true,
    image: '711_french_toast_bymvxx',
  },
  {
    name: 'æ—¥æ¸… ä¸­æœ¬è’™å¤ è¾£æ³¡éºµæ—¨å‘³å™Œæ‹‰éºµ',
    price: 448,
    description:
      'é‡ç¾è‘—åé¤å»³ã€Œè’™å¤ä¸­æœ¬ã€çš„è¶…è¾£æ‹‰éºµçš„æ­£å®—æ¯éºµã€‚ æˆ‘å€‘æ”¹é€²äº†éºµæ¢ï¼Œä½¿éºµæ¢è®Šå¾—æ›´ç²—ï¼Œåƒèµ·ä¾†æ›´é£½æ»¿ï¼Œæ›´è²¼è¿‘é¤å»³çš„æ°›åœã€‚ ä½¿ç”¨è±å¯Œçš„é£Ÿæï¼Œå¿ å¯¦å†ç¾ä¸­æœ¬èŒå­æ“”é¢çš„å‘³é“çš„è¾£æ¹¯ã€‚',
    store: '7-11',
    category: 'æ³¡éºµ',
    sell: true,
    image: '711_miso_ramen_rwejpp',
  },
  {
    name: '7-11 èµ¤é£¯ç³°',
    price: 170,
    description:
      'é€™æ¬¾é£¯ç³°æ˜¯ç”¨è»Ÿç³¯æœ‰åš¼å‹çš„ç´…ç±³åœ¨ç«¹è’¸ç± ä¸­è’¸ç†Ÿè£½æˆçš„ï¼Œä¸Šé¢æ”¾æœ‰ç”œç´…è±†ï¼Œæ˜¯åŒ—æµ·é“çš„ä¸€é“å¸¸è¦‹èœé¤šã€‚',
    store: '7-11',
    category: 'ç†Ÿé£Ÿ',
    sell: true,
    image: '711_strawberry_choco_zr7gl6',
  },
  {
    name: '7-11 ç”Ÿå·§å…‹åŠ›å†°æ·‡æ·‹',
    price: 289,
    description:
      'æ¿ƒåšçš„å·§å…‹åŠ›å†°æ·‡æ·‹ä¸Šé¢ï¼Œç‘ä¸Šæ»¿æ»¿çš„ç”Ÿå·§å…‹åŠ›ç£šï¼Œæ¯ä¸€å£éƒ½åƒå¾—åˆ°å…¥å£å³åŒ–çš„å†°æ·‡æ·‹èˆ‡ç”Ÿå·§å…‹åŠ›ç£šåœ¨å˜´ä¸­åŒ–é–‹ï¼Œæ¿ƒä¸ŠåŠ æ¿ƒçš„å£æ„Ÿï¼Œèº«ç‚ºå·§å…‹åŠ›ç²‰ä¸€å®šæœƒç˜‹æ‰ï¼',
    store: '7-11',
    category: 'å†°å“',
    sell: true,
    image: '711_cho_mxuist',
  },
  {
    name: '7-11 æ˜æ²»è¶…ç´šæ¯å†°æ·‡æ·‹ ç´…èŒ¶é¤…ä¹¾å£å‘³',
    price: 180,
    description: 'æ¿ƒéƒçš„å¤§å‰å¶ºèŒ¶é¦™ï¼ŒåŠ ä¸Šè—åœ¨å†°æ·‡æ·‹å…§çš„ç´…èŒ¶é¤…ä¹¾è„†ç‰‡ï¼Œè®“æ•´é«”èŒ¶é¦™è¶…æ¿ƒã€å£æ„Ÿå¤šå±¤æ¬¡',
    store: '7-11',
    category: 'å†°å“',
    sell: true,
    image: '711_miji_spyhav',
  },
  // --- å…¨å®¶ (FamilyMart) ç³»åˆ— ---
  {
    name: 'å…¨å®¶ èˆ’èŠ™è•¾å¸ƒä¸ (é™å®šç‰ˆ)',
    price: 278,
    description: 'å­£ç¯€é™å®šå£å‘³ï¼ç¶¿å¯†çš„èˆ’èŠ™è•¾æ­é…åº•å±¤é¦™é†‡å¸ƒä¸ï¼Œå£æ„Ÿå±¤æ¬¡è±å¯Œã€‚',
    store: 'å…¨å®¶',
    category: 'ç”œé»',
    sell: true,
    image: 'fm_pudding_jsvanp',
  },
  {
    name: 'å…¨å®¶ èƒŒè„‚å¤§è’œæœˆè¦‹è‚‰åŒ…',
    price: 195,
    description:
      'ä½¿ç”¨å¤§è’œèˆ‡è±¬æ²¹ã€é†¬æ²¹ç‚’é¦™çš„è‚‰æœ«å…§é¤¡ï¼Œå†åŠ å…¥å¤§é‡è›‹é»ƒé¢¨é†¬ï¼Œåƒèµ·ä¾†é¹¹é¦™é¹¹é¦™ï¼Œé‚„æœ‰è›‹é»ƒé†¬å¢åŠ æ¿•æ½¤æ¿ƒåšçš„å£æ„Ÿï¼Œçµ•å°æ˜¯è¦–è¦ºã€å‘³è¦ºé›™äº«å—ï¼',
    store: 'å…¨å®¶',
    category: 'ç†Ÿé£Ÿ',
    sell: true,
    image: 'fm_lava_cake_ihtg4n',
  },
  {
    name: 'å…¨å®¶ å¤šæ¨‚ç¦æ°´æœç³–å£å‘³å†°æ£’',
    price: 184,
    description:
      'ç¶œåˆæ°´æœå£å‘³å†°æ£’å¤–å±¤ç”¨ç™½è‰²å·§å…‹åŠ›åŒ…è£¹ï¼Œå†åŠ å…¥7ç¨®å¤šæ¨‚ç¦æ°´æœç³–ç³–ç¢ï¼Œåƒèµ·ä¾†åˆå†°åˆè„†ï¼Œå……æ»¿å¾©å¤çš„å…’æ™‚æ»‹å‘³ï¼',
    store: 'å…¨å®¶',
    category: 'å†°å“',
    sell: true,
    image: 'fm_ice_rjqoct',
  },
  {
    name: 'çƒ¤èµ·å¸è›‹ç³•',
    price: 440,
    description: 'é€™æ˜¯ä¸€æ¬¾è¿·ä½ å°ºå¯¸çš„çƒ¤èµ·å¸è›‹ç³•ï¼Œéå¸¸é©åˆåˆ†äº«ã€‚',
    store: 'å…¨å®¶',
    category: 'ç”œé»',
    sell: true,
    image: 'so_ice_vanilla_qwewl3',
  },
  {
    name: 'ç‘ªæ ¼éº—ç‰¹æŠ«è–©ä¸‰æ˜æ²»é…ç†Ÿé€çš„ç•ªèŒ„',
    price: 298,
    description: 'é€™ç¨®æœ‰åš¼å‹çš„éºµåœ˜åœ¨ä½æº«ä¸‹é•·æ™‚é–“ç™¼é…µï¼Œç„¶å¾ŒåŒ…è£¹ä¸Šæˆç†Ÿçš„ç•ªèŒ„é†¬å’ŒèåŒ–çš„é¦¬è˜‡é‡Œæ‹‰èµ·å¸ã€‚',
    store: 'å…¨å®¶',
    category: 'ç†Ÿé£Ÿ',
    sell: true,
    image: 'vanilla_yioef6',
  },
  {
    name: 'Newtouch æ©«æ¿±å®¶ç³»è±šéª¨é†¬æ²¹é¢¨å‘³æ‹‰éºµ',
    price: 350,
    description: 'æ¿ƒéƒè±šéª¨é†¬æ²¹æ¹¯é ­æ­é…Qå½ˆæ‹‰éºµï¼Œåœ¨å®¶ä¹Ÿèƒ½è¼•é¬†äº«å—æ©«æ¿±é“åœ°é¢¨å‘³ã€‚',
    store: 'å…¨å®¶',
    category: 'æ³¡éºµ',
    sell: true,
    image: 'yioef6_nmaplv',
  },
  {
    name: 'å…¨å®¶ç¨å®¶æ°´æœé…’SUPER CHU-HI',
    price: 200,
    description:
      'ä¸€æ–¹é¢ä¿ç•™äº†æ°´æœçš„æ¸…ç”œæ»‹å‘³ï¼Œä¸€æ–¹é¢å¯¦ç¾ä¸æ˜“è†©çš„ä¿è½å£æ„Ÿï¼Œå……åˆ†å°‡æŸ‘æ©˜é¡æ°´æœçš„ç‰¹å¾µåæ˜ æ–¼é…’é£²ä¸­ã€‚ç›®å‰å…±æœ‰æª¸æª¬ã€è‘¡è„æŸšã€ç„¡ç³–æª¸æª¬é€™3ç¨®å£å‘³ï¼Œæ­é…5%èˆ‡7%çš„é…’ç²¾æ¿ƒåº¦å’Œ350mlèˆ‡500mlçš„å®¹é‡ï¼Œç„¡é…’ä¸æ­¡çš„ä½ ä¸€å®šè¦å–å–çœ‹ï¼',
    store: 'å…¨å®¶',
    category: 'é›¶é£Ÿ',
    sell: true,
    image: 'SUPER_CHU-HI_ff5klz',
  },
  // --- Lawson ç³»åˆ— ---
  {
    name: 'Lawson ç‚¸é›å›',
    price: 259,
    description: 'ç¶“å…¸ç‚¸é›å›ï¼Œå¾®è¾£é®®é¦™ï¼Œä¸€å£æ¥ä¸€å£åœä¸ä¸‹ä¾†ã€‚',
    store: 'Lawson',
    category: 'ç†Ÿé£Ÿ',
    sell: true,
    image: 'lawson_karaage_mentai_shacep',
  },
  {
    name: 'æ˜å¤ªå­å¡é‚¦å°¼ç¾©å¤§åˆ©éºµ',
    price: 599,
    description: 'æ¿ƒé¬±çš„é†¬æ±å’Œæ˜å¤ªå­çš„å‘³é“ä»¤äººä¸Šç™®ï¼èµ·å¸ç²‰å’Œé»‘èƒ¡æ¤’å‰‡å¢æ·»äº†æ°åˆ°å¥½è™•çš„é¢¨å‘³ã€‚',
    store: 'Lawson',
    category: 'ç†Ÿé£Ÿ',
    sell: true,
    image: 'cheese_cake_ejooqw',
  },
  {
    name: 'Lawson å¥¶æ²¹ä¹³é…ªç…™ç‡»é®­é­šæ²',
    price: 599,
    description: 'ç›¡æƒ…äº«å—ç…™ç‡»é®­é­šå’Œå¥¶æ²¹ä¹³é…ªçš„ç¾å‘³ã€‚',
    store: 'Lawson',
    category: 'é›¶é£Ÿ',
    sell: true,
    image: '1769664341480_m75gy2',
  },
  {
    name: 'Lawson æ¿€è¾›æš´å›å“ˆç“¦é‚£è¾£æ¤’é¤…ä¹¾',
    price: 108,
    description: 'ç‘æ»¿å¸¶å¼·å‹å—†è¾£å‘³çš„å”è¾›å­ç²‰ï¼Œé›™é‡è¾£å‘³åˆºæ¿€è®“äººç›´å‘¼éç™®ï¼',
    store: 'Lawson',
    category: 'é›¶é£Ÿ',
    sell: true,
    image: 'soy_frfele',
  },
  {
    name: 'æ—¥æ¸… è¬è‚‰ç¥­æ¯éºµ',
    price: 245,
    description: 'æ—¥æ¸… 50 é€±å¹´é™å®šï¼Œæ”¾å…¥ 4 å€ä»½é‡çš„ä¹¾ç‡¥è‚‰å¡Šï¼Œæ¹¯é ­æ¥µåº¦é®®ç¾ã€‚',
    store: '7-11',
    category: 'æ³¡éºµ',
    sell: true,
    image: '1769665677526_l47ujd',
  },
  {
    name: 'ã€æ˜æ˜Ÿ Ã— æ±äº¬è¨­è¨ˆå°ˆé–€å­¸æ ¡è¯åæ¬¾ã€‘ä¸‰é‡è”¥é¦™é›é¹½æ‹‰éºµï½è”¥å‘³æœ€å¼·çš„é™å®šæ³¡éºµï¼',
    price: 300,
    description:
      'æ˜æ˜Ÿé£Ÿå“è¯æ‰‹æ±äº¬è¨­è¨ˆå°ˆé–€å­¸æ ¡æ¨å‡ºçš„ã€ä¸‰é‡è”¥é¦™é›é¹½æ‹‰éºµã€‘ï¼Œæ—¥æ–‡åç¨±æ˜¯ã€Œã­ãã‚‰ãƒ¼ é¶å¡©ãƒ©ãƒ¼ãƒ¡ãƒ³ã€ï¼Œç°¡ç›´å°±æ˜¯è”¥æ§çš„å¤©å ‚ï¼',
    store: 'Lawson',
    category: 'æ³¡éºµ',
    sell: true,
    image: 'calbee_b5him5',
  },
]

const importData = async () => {
  console.log('--- è…³æœ¬å•Ÿå‹•ä¸­ ---')
  try {
    if (!mongoURI) {
      throw new Error('æ‰¾ä¸åˆ° DB_URLï¼Œè«‹æª¢æŸ¥ .env æª”æ¡ˆ')
    }

    console.log('æ­£åœ¨å˜—è©¦é€£ç·š MongoDB...')
    await mongoose.connect(mongoURI)
    console.log('âœ… MongoDB é€£ç·šæˆåŠŸ')

    // å»ºè­°å…ˆæ¸…ç©ºå†åŒ¯å…¥ï¼Œé¿å…å•†å“é‡è¤‡
    const deleteResult = await Product.deleteMany({})
    console.log(`ğŸ—‘ï¸ å·²æ¸…ç©ºèˆŠå•†å“ (å…± ${deleteResult.deletedCount} ç­†)`)

    await Product.insertMany(products)
    console.log(`ğŸ“¦ æˆåŠŸåŒ¯å…¥ ${products.length} é …æ–°å•†å“ï¼`)
  } catch (error) {
    console.error('âŒ åŸ·è¡Œå¤±æ•—ï¼š', error.message)
  } finally {
    console.log('æ­£åœ¨é—œé–‰é€£ç·š...')
    await mongoose.connection.close()
    console.log('--- è…³æœ¬çµæŸ ---')
    process.exit()
  }
}

// åŸ·è¡Œå•Ÿå‹•
importData()
